<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.green.oauth.mapper.HomeMapper">  
	
 	<select id="findProductType">
 		SELECT CATEGORY_IDX,
 		       CATEGORY_NAME
    FROM   CATEGORY
    WHERE  PARENT_CATEGORY_IDX IN (1,4) AND CATEGORY_IDX != 4
 	</select>
 	
 	<select id="findByCategoryIdxOffset">
 		SELECT P.PRODUCT_IDX,
       	   P.PRODUCT_NAME,
       	   P.PRICE,
       	   P.CATEGORY_IDX,
           P.CREATED_AT,
           PI.PRODUCT_SFILE_NAME
		FROM   PRODUCT P LEFT JOIN PRODUCT_IMAGE PI ON P.PRODUCT_IDX = PI.PRODUCT_IDX
		WHERE  CATEGORY_IDX = #{CATEGORY_IDX} 
		ORDER BY CREATED_AT DESC
		OFFSET 0 ROWS FETCH NEXT 10 ROWS ONLY
 	</select>
 	
</mapper>

















